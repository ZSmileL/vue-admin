<template>
    <div class="dashboard-container">
        <!-- greeting -->
        <div class="greeting-panel">
            <div class="greeting-left">
                <img :src="userStore.user.avatar" alt="" class="avatar">
                <div class="greeting-info">
                    {{ greeting }}
                    <p class="weather">
                        ‰ªäÊó•Â§©Ê∞îÊô¥ÊúóÔºåÊ∞îÊ∏©Âú®15‚ÑÉËá≥25‚ÑÉ‰πãÈó¥Ôºå‰∏úÂçóÈ£é„ÄÇ
                    </p>
                </div>
            </div>
            <div class="greeting-right">
                <el-statistic :value="99">
                    <template #title>
                        <SvgIcon size="20px" iconClass="message"></SvgIcon>
                        Ê∂àÊÅØ
                    </template>
                </el-statistic>
                <el-statistic :value="50">
                    <template #title>
                        <SvgIcon size="20px" iconClass="todolist"></SvgIcon>
                        ÂæÖÂäû
                    </template>
                    <template #suffix>/100</template>
                </el-statistic>
                <el-statistic :value="10">
                    <template #title>
                        <SvgIcon size="20px" iconClass="project"></SvgIcon>
                        È°πÁõÆ
                    </template>
                </el-statistic>
            </div>
        </div>
        <!-- Êï∞ÊçÆÂç°Áâá -->
        <div class="data-card">
            <el-card shadow="never">
                <template #header>
                    <div class="card-header">
                        <span>ËÆøÂÆ¢Êï∞</span>
                        <el-tag type="success">
                            Êó•
                        </el-tag>
                        
                    </div>
                </template>
                <div class="data-info">
                    2000
                    <SvgIcon iconClass="visit" size="32px"></SvgIcon>
                </div>
                <div class="data-info data-info-total">
                    <p>ÊÄªËÆøÂÆ¢Êï∞</p>
                    <p>30000</p>
                </div>
                
            </el-card>
            <el-card shadow="never">
                <template #header>
                    <div class="card-header">
                        <span>IPÊï∞</span>
                        <el-tag type="success">
                            Êó•
                        </el-tag>
                        
                    </div>
                </template>
                <div class="data-info">
                    2000
                    <SvgIcon iconClass="ip" size="32px"></SvgIcon>
                </div>
                <div class="data-info data-info-total">
                    <p>ÊÄªIPÊï∞</p>
                    <p>2000</p>
                </div>
                
            </el-card>
            <el-card shadow="never">
                <template #header>
                    <div class="card-header">
                        <span>ÈîÄÂîÆÈ¢ù</span>
                        <el-tag type="primary">
                            Êúà
                        </el-tag>
                        
                    </div>
                </template>
                <div class="data-info">
                    2000
                    <SvgIcon iconClass="money" size="32px"></SvgIcon>
                </div>
                <div class="data-info data-info-total">
                    <p>ÊÄªÈîÄÂîÆÈ¢ù</p>
                    <p>30000</p>
                </div>
                
            </el-card>
            <el-card shadow="never">
                <template #header>
                    <div class="card-header">
                        <span>ËÆ¢ÂçïÈáè</span>
                        <el-tag type="danger">
                            Â≠£
                        </el-tag>
                        
                    </div>
                </template>
                <div class="data-info">
                    2000
                    <SvgIcon iconClass="order" size="32px"></SvgIcon>
                </div>
                <div class="data-info data-info-total">
                    <p>ÊÄªËÆ¢ÂçïÈáè</p>
                    <p>2000</p>
                </div>
                
            </el-card>
        </div>
        <!-- ÂõæË°® -->
        <div class="echarts">
            <BarChart class="echart" id="barchar" height="400px" width="100%"></BarChart>
            <PieChart class="echart" id="piechart" height="400px" width="100%"></PieChart>
            <RadarChart class="echart" id="radarchart" height="400px" width="100%"></RadarChart>
        </div>
    </div>
</template>

<script setup>
import { ref, computed } from 'vue';
import { useUserStore } from '@/store';
import BarChart from './components/BarChart.vue';
import PieChart from './components/PieChart.vue';
import RadarChart from './components/RadarChart.vue';
const userStore = useUserStore();
//ÊãõÂëºËØ≠
const greeting = computed(() => {
    const hour = new Date().getHours();
    if (hour >= 6 && hour < 8) {
        return "Êô®Ëµ∑Êä´Ë°£Âá∫ËçâÂ†ÇÔºåËΩ©Á™óÂ∑≤Ëá™ÂñúÂæÆÂáâüåÖÔºÅ";
    } else if (hour >= 8 && hour < 12) {
        return "‰∏äÂçàÂ•ΩÔºå" + userStore.user.nickname + "ÔºÅ";
    } else if (hour >= 12 && hour < 18) {
        return "‰∏ãÂçàÂ•ΩÔºå" + userStore.user.nickname + "ÔºÅ";
    } else if (hour >= 18 && hour < 24) {
        return "Êôö‰∏äÂ•ΩÔºå" + userStore.user.nickname + "ÔºÅ";
    } else if (hour >= 0 && hour < 6) {
        return "ÂÅ∑ÂÅ∑ÂêëÈì∂Ê≤≥Ë¶Å‰∫Ü‰∏ÄÊääÁ¢éÊòüÔºåÂè™Á≠â‰Ω†Èó≠‰∏äÁúºÁùõÊííÂÖ•‰Ω†ÁöÑÊ¢¶‰∏≠ÔºåÊôöÂÆâüåõÔºÅ";
    }
})
</script>

<style lang="scss" scoped>
.dashboard-container {
    width: 100%;
    padding: 24px;

    .greeting-panel {
        display: flex;
        justify-content: space-between;
        background-color: #fff;
        padding: 20px;

        .greeting-left {
            display: flex;
            align-items: center;

            .avatar {
                width: 80px;
                height: 80px;
                border-radius: 50%;
                margin-right: 20px;
            }

            .greeting-info {
                font-size: 16px;

                .weather {
                    margin-top: 20px;
                    color: #9cA3AF;
                    font-size: 14px;
                }
            }
        }

        .greeting-right {
            max-width: 25%;
            flex: 0 0 25%;
            display: flex;
            align-items: center;
            justify-content: space-around;

            :deep(.el-statistic__head) {
                font-size: 16px;
                display: flex;
                margin-right: 20px;
                margin-bottom: 10px;
            }
        }
    }
    .data-card{
        width: 100%;
        display: flex;
        font-size: 16px;
        margin-top: 20px;
        :deep(.el-card){
            flex: 1;
            margin-left: 5px;
            margin-right: 5px;
            &:nth-child(1){
                margin-left: 0;
            }
            &:nth-last-child(1){
                margin-right: 0;
            }
        }
        .card-header{
            display: flex;
            justify-content: space-between;
        }
        .data-info{
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 18px;
            margin: 20px 5px;
            &.data-info-total{
                font-size: 14px;
                color:#9cA3AF;
                margin-top: 0;
                margin-bottom: 0;
            }
        }
    }
    .echarts{
        display: flex;
        width: 100%;
        margin-top: 20px;
        .echart{
            flex: 1;
            margin-left: 5px;
            margin-right: 5px;
            &:nth-child(1){
                margin-left: 0;
            }
            &:nth-last-child(1){
                margin-right: 0;
            }
        }
    }
}
</style>